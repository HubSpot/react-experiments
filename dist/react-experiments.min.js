!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.ReactExperiments=t(require("react")):e.ReactExperiments=t(e.React)}(this,function(e){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=function(e){return e&&e.__esModule?e:{"default":e}},i=o(r(1)),a=n(r(3)),s=n(r(4)),u=n(r(5)),p=n(r(6));e.exports={ABTest:s,When:i.When,Default:i.Default,experimentClass:a,Parametrize:u,withExperimentParams:p}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(2)),i=o.createClass({displayName:"When",getInitialState:function(){return{shouldRender:!1}},contextTypes:{experimentParameters:o.PropTypes.object.isRequired,experimentProps:o.PropTypes.object.isRequired},componentWillUpdate:function(e,t){t.shouldRender&&this.context.experimentProps.enrolledInVariation()},componentDidMount:function(){this.shouldRenderVariation()},shouldRenderVariation:function(){var e=this.props.value,t=this.context.experimentProps.on;this.context.experimentParameters&&this.context.experimentParameters[t]===e&&this.setState({shouldRender:!0})},renderChildren:function(){return o.Children.map(this.props.children,function(e){return o.isValidElement(e)?o.addons.cloneWithProps(e,{}):e})},render:function(){return this.state.shouldRender?o.createElement("span",{className:"experiment-variation-component"},this.renderChildren()):null}});t.When=i;var a=o.createClass({displayName:"Default",contextTypes:{experimentProps:o.PropTypes.object.isRequired},render:function(){return this.context.experimentProps.hasRendered?null:o.createElement("span",null,this.props.children)}});t.Default=a},function(t,r){t.exports=e},function(e,t){"use strict";var r=function(){function e(e,t){for(var r in t){var n=t[r];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(e,t)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),n=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(){n(this,e)}return r(e,{getParams:{value:function(e){throw"IMPLEMENT getParams"}},logExposure:{value:function(e){throw"IMPLEMENT logExposure"}},getName:{value:function(){throw"IMPLEMENT getName"}},previouslyLogged:{value:function(){throw"IMPLEMENT previouslyLogged"}},shouldFetchExperimentParameter:{value:function(e){throw"IMPLEMENT shouldFetchExperimentParameter"}}}),e}();e.exports=o},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(r(2)),i=n(r(5)),a=o.createClass({displayName:"ABTest",getDefaultProps:function(){return{shouldEnroll:!0,param:null,experimentName:null}},getInitialState:function(){return{hasRendered:!1}},enrolledInVariation:function(){this.state.hasRendered||this.setState({hasRendered:!0})},renderExposedVariation:function(){var e=this.props,t=e.on,r=e.shouldEnroll,n=e.experiment,a=e.experimentName;return r?n?a?t?o.createElement(i,{experiment:n,experimentName:a,on:t,enrolledInVariation:this.enrolledInVariation,hasRendered:this.state.hasRendered},this.props.children):(console.error("You must pass an 'on' prop indicating what parameter you want to branch off"),null):(console.error("You must pass an experiment name as prop"),null):(console.error("You must pass in an experiment instance as a prop"),null):null},render:function(){return this.renderExposedVariation()}});e.exports=a},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=n(r(2)),i=o.createClass({displayName:"Parametrize",getInitialState:function(){return{experimentParameters:null}},childContextTypes:{experimentParameters:o.PropTypes.object,experimentProps:o.PropTypes.object.isRequired},getChildContext:function(){return{experimentParameters:this.state.experimentParameters,experimentProps:this.props}},componentWillMount:function(){this.fetchParameters()},fetchParameters:function(){var e=this.props,t=e.experiment,r=e.experimentName,n={};return t&&t.getParams?(n=t.getParams(r)||{},this.setState({experimentParameters:n}),void(t.previouslyLogged()===!1&&t.logExposure({params:n,name:t.getName()}))):void console.error("You must pass in an experiment instance as a prop")},renderExperiment:function(){if(!this.state.experimentParameters)return null;var e=o.Children.map(this.props.children,function(e){return o.addons.cloneWithProps(e,{})});return o.createElement("div",null,e)},render:function(){return this.renderExperiment()}});e.exports=i},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e["default"]:e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=n(r(2));e.exports=function(e){return i.createClass({contextTypes:{experimentParameters:i.PropTypes.object.isRequired},render:function(){return i.createElement(e,o({},this.props,this.context.experimentParameters))}})}}])});